"use strict";(self.webpackChunkrayos_user_pwa=self.webpackChunkrayos_user_pwa||[]).push([[543],{5543:function(e,n,t){t.r(n),t.d(n,{default:function(){return H}});var r=t(1413),i=t(4942),a=t(885),l=t(7313),o=t(7131),d=t(1113),c=t(6212),s=t(7227),u=t(2295),h=t(9019),m=t(4882),g=t(8797),f=t(1405),p=t(816),x=t.n(p),v=t(5987),Z=t(7829),j=t(4007),b=t(7592),y=t(6417),C=(0,b.ZP)("div")((function(e){var n=e.theme;return{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%","& .ant-empty-img-1":{fill:"light"===n.palette.mode?"#aeb8c2":"#262626"},"& .ant-empty-img-2":{fill:"light"===n.palette.mode?"#f5f5f7":"#595959"},"& .ant-empty-img-3":{fill:"light"===n.palette.mode?"#dce0e6":"#434343"},"& .ant-empty-img-4":{fill:"light"===n.palette.mode?"#fff":"#1c1c1c"},"& .ant-empty-img-5":{fillOpacity:"light"===n.palette.mode?"0.8":"0.08",fill:"light"===n.palette.mode?"#f5f5f5":"#fff"}}}));function w(){return(0,y.jsxs)(C,{children:[(0,y.jsx)("svg",{width:"120",height:"100",viewBox:"0 0 184 152","aria-hidden":!0,focusable:"false",children:(0,y.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,y.jsxs)("g",{transform:"translate(24 31.67)",children:[(0,y.jsx)("ellipse",{className:"ant-empty-img-5",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),(0,y.jsx)("path",{className:"ant-empty-img-1",d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"}),(0,y.jsx)("path",{className:"ant-empty-img-2",d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"}),(0,y.jsx)("path",{className:"ant-empty-img-3",d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"})]}),(0,y.jsx)("path",{className:"ant-empty-img-3",d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"}),(0,y.jsxs)("g",{className:"ant-empty-img-4",transform:"translate(149.65 15.383)",children:[(0,y.jsx)("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),(0,y.jsx)("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"})]})]})}),(0,y.jsx)(Z.Z,{sx:{mt:1},children:"No Data Found!"})]})}var P=["columns","rows","isLoading","onCellClick"],M=function(e){var n=e.columns,t=e.rows,i=e.isLoading,a=(e.onCellClick,(0,v.Z)(e,P));return(0,y.jsx)(Z.Z,{sx:{height:i||!t.length?"400px":"fit-content","& .MuiDataGrid-columnHeaders":{backgroundColor:"#E5E5E5",color:"black",fontWeight:900,fontSize:14}},children:(0,y.jsx)(j._,(0,r.Z)({headerAlign:!0,disableColumnMenu:!0,disableColumnFilter:!0,disableSelectionOnClick:!0,rowsPerPageOptions:[5,10,25,50,100],autoHeight:!(i||!t.length),columns:n,rows:t,loading:i,components:{NoRowsOverlay:w},sx:{"& .MuiDataGrid-columnHeader:focus-within, & .MuiDataGrid-cell:focus-within":{outline:"none !important"}}},a))})},N=t(3134),S=t(9466),A=t(6672),z=t(1080),D=t(5883),k=t(371),H=function(e){e.uid,l.useContext(z.g),l.useContext(D.Z);var n,t,p,v,Z=l.useState({method:"all",limit:10,page:1,filters:[]}),j=(0,a.Z)(Z,2),b=j[0],C=j[1],w=(0,k.v8)(b),P=w.data,H=w.isLoading;console.log(P);var Q=function(e){switch(e){case"Pending":return"info";case"Shipped":case"Confirmed":return"black";case"Canceled":case"Returned":return"error";case"Delivered":return"success";default:return"default"}},R=[{headerName:"",field:"id",width:100,align:"center",headerAlign:"center",renderCell:function(e){var n;return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(o.Z,{component:S.rU,size:"small",color:"primary",to:"/user/order/".concat(null===(n=e.row)||void 0===n?void 0:n._id),children:(0,y.jsx)(A.bdS,{})})})},sortable:!1},{headerName:"Reciepent Phone",headerAlign:"center",align:"center",field:"phone",width:120,sortable:!1,renderCell:function(e){var n;return(0,y.jsx)(d.Z,{children:(null===(n=e.row.shipping)||void 0===n?void 0:n.phone)||"-"})}},(n={headerName:"Order Date",headerAlign:"center",align:"center",field:"createdAt",width:170},(0,i.Z)(n,"headerAlign","center"),(0,i.Z)(n,"renderCell",(function(e){return(0,y.jsx)(d.Z,{children:x()(e.row.createdAt).format("lll")})})),n),(t={headerName:"Status",headerAlign:"center",align:"center",field:"status",width:120},(0,i.Z)(t,"headerAlign","center"),(0,i.Z)(t,"align","center"),(0,i.Z)(t,"renderCell",(function(e){return(0,y.jsx)(c.Z,{label:e.row.status,size:"small",color:Q(e.row.status)})})),(0,i.Z)(t,"sortable",!1),t),{headerName:"Method",field:"paymentMethod",align:"center",headerAlign:"center",sortable:!1},{headerName:"Product Total",field:"totalSellPrice",align:"center",headerAlign:"center",sortable:!1},{headerName:"Shipping Fee",headerAlign:"center",field:"shippingFee",align:"center",sortable:!1},{headerName:"Voucher",headerAlign:"center",field:"voucher",align:"center",width:120,renderCell:function(e){var n;return(null===(n=e.row)||void 0===n?void 0:n.voucher)||"-"},sortable:!1},{headerName:"Discount",headerAlign:"center",field:"discount",align:"center",sortable:!1},{headerName:"Total Price",headerAlign:"center",field:"total",align:"center",sortable:!1}];return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(s.Z,{sx:{py:2},children:[(0,y.jsx)(u.Z,{elevation:0,sx:{p:2,border:"1px solid #ccc",my:2},children:(0,y.jsxs)(h.ZP,{container:!0,rowGap:1,columnGap:1,alignItems:"center",justifyContent:"space-between",children:[(0,y.jsx)(h.ZP,{item:!0,xs:12,sm:8.7,children:(0,y.jsx)(m.ZP,{placeholder:"Search Order",sx:N.Z,onChange:function(e){C((0,r.Z)((0,r.Z)({},b),{},{filters:["receiver_number~".concat(e.target.value)]}))},fullWidth:!0})}),(0,y.jsx)(h.ZP,{item:!0,xs:12,sm:3,children:(0,y.jsxs)(g.Z,{sx:(0,r.Z)({},N.Z),value:b.method,onChange:function(e){return C((0,r.Z)((0,r.Z)({},b),{},{method:e.target.value}))},fullWidth:!0,children:[(0,y.jsx)(f.Z,{value:"all",disabled:"all"===b.method,children:"All"}),(0,y.jsx)(f.Z,{value:"Pending",disabled:"Pending"===b.method,children:"Pending"}),(0,y.jsx)(f.Z,{value:"Confirmed",disabled:"Confirmed"===b.method,children:"Confirmed"}),(0,y.jsx)(f.Z,{value:"Shipped",disabled:"Shipped"===b.method,children:"Shipped"}),(0,y.jsx)(f.Z,{value:"Delivered",disabled:"Delivered"===b.method,children:"Delivered"}),(0,y.jsx)(f.Z,{value:"Canceled",disabled:"Canceled"===b.method,children:"Canceled"}),(0,y.jsx)(f.Z,{value:"Returned",disabled:"Returned"===b.method,children:"Returned"})]})})]})}),(0,y.jsx)(M,{sx:{my:2},columns:R,rows:(null===P||void 0===P||null===(p=P.data)||void 0===p?void 0:p.data)||[],isLoading:H,paginationMode:"server",rowCount:(null===P||void 0===P||null===(v=P.data)||void 0===v?void 0:v.total)||0,page:((null===b||void 0===b?void 0:b.page)||1)-1,onPageChange:function(e){console.log(e+1),C((0,r.Z)((0,r.Z)({},b),{},{page:e+1}))},pageSize:null===b||void 0===b?void 0:b.limit,onPageSizeChange:function(e){return C((0,r.Z)((0,r.Z)({},b),{},{limit:e,page:1}))}})]}),";"]})}},371:function(e,n,t){t.d(n,{QE:function(){return c},UD:function(){return o},uy:function(){return h},v8:function(){return a},wS:function(){return u}});var r=t(56),i=t(7347),a=function(e){return(0,r.useQuery)(["get-all-order-for-user",e],(function(){return function(e){return i.ZP.get("order/user?".concat(e.method&&"all"!==e.method?"status=".concat(e.method,"&"):"","limit=").concat(e.limit,"&page=").concat(e.page))}(e)}),{})},l=function(e){return i.ZP.post("order/calculate",e)},o=function(){var e=(0,r.useQueryClient)();return(0,r.useMutation)(l,{onSuccess:function(){return e.invalidateQueries("get-order-calculate")}})},d=function(e){return i.ZP.post("order/create",e)},c=function(){var e=(0,r.useQueryClient)();return(0,r.useMutation)(d,{onSuccess:function(){e.invalidateQueries("get-cart-by-user")}})},s=function(){return i.ZP.get("order/calculate")},u=function(){return(0,r.useQuery)(["get-order-calculate"],s,{retry:1})},h=function(e){return(0,r.useQuery)(["get-products-by-order-id",e],(function(){return function(e){return i.ZP.get("order/".concat(e))}(e)}),{})}},3134:function(e,n){n.Z={bgcolor:"#f3f3f3",borderRadius:"4px",px:"10px",height:"52px",outline:"none","&, & *":{border:"transparent !important",outline:"none !important"}}}}]);
"use strict";(self.webpackChunkrayos_user_pwa=self.webpackChunkrayos_user_pwa||[]).push([[775],{8775:function(n,e,t){t.r(e),t.d(e,{ProductItem:function(){return pn},default:function(){return vn}});var r=t(1413),i=t(4165),s=t(2982),o=t(5861),a=t(885),l=t(7227),c=t(9019),d=t(1113),u=t(2295),x=t(8310),h=t(7216),p=t(2600),v=t(8119),j=t(4488),Z=t(3213),m=t(5898),f=t(9881),g=t(7451),y=t(7829),b=t(4193),w=t(9536),C=t(5685),k=t(3929),P=t(3827),S=t(9840),I=t(7131),A=t(6149),W=t(3604),F=t(6467),D=t(2868),_=t(4882),E=t(8797),L=t(1405),U=t(4117),Q=t(9860),T=t(1554),q=t(5281),z=t(7313),O=t(4972),M=t(3609),N=t(5979),R=t(7347),G=t(5883),V=t(1146),B=t(3478),Y=t(2539),H=t(4813),J=t(9466),K=t(7890),X=t(860),$=t(7864),nn=t(371),en=t(3738),tn=t(56),rn=function(){return(0,tn.useQuery)(["get-address-by-user"],(function(){return R.ZP.get("address")}),{})},sn=function(n){return R.ZP.put("address",n)},on=t(6909),an=t(5627),ln=t(9150),cn=t(2916),dn=t(3134),un=t(6417),xn=function(n){var e,t,l,c,u=n.shippingId,x=n.setShippingId,p=z.useContext(G.Z),v=z.useState(!1),j=(0,a.Z)(v,2),m=j[0],g=j[1],y=function(){g(!m),B(!1)},C=rn(),k=C.data,P=C.isLoading,Q=z.useState(),T=(0,a.Z)(Q,2),q=T[0],O=T[1],M=z.useState(!1),N=(0,a.Z)(M,2),R=N[0],B=N[1],H=function(){return B(!R)},J=(0,an.cI)({}),K=J.reset,X=J.watch,$=J.handleSubmit,nn=J.register,en=(J.getValues,function(){var n=(0,tn.useQueryClient)();return(0,tn.useMutation)(sn,{onSuccess:function(){return n.invalidateQueries("get-address-by-user")}})}()),xn=en.mutateAsync,hn=en.isLoading;z.useEffect((function(){R||K({})}),[R]);var pn=function(){var n=(0,o.Z)((0,i.Z)().mark((function n(e){var t;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,V.E)((function(){return xn(e)}),[201]);case 2:(t=n.sent).status?(p.createSnack(t.msg),O(t.data),x(t.data),y()):p.createSnack(t.msg,"error");case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,un.jsxs)(un.Fragment,{children:[u?(0,un.jsxs)(S.Z,{sx:{border:"1px solid",borderColor:"#333",bgcolor:"#00000011",m:1},onClick:y,children:[(0,un.jsx)(Z.Z,{primary:null===q||void 0===q?void 0:q.label,secondary:(0,un.jsxs)(un.Fragment,{children:[(0,un.jsx)("div",{children:null===q||void 0===q?void 0:q.details}),(0,un.jsx)("div",{children:null===q||void 0===q?void 0:q.phone})]}),primaryTypographyProps:{sx:{fontWeight:"500"}}}),(0,un.jsx)(I.Z,{size:"small",children:(0,un.jsx)(cn.IYd,{})})]}):(0,un.jsx)(h.ZP,{children:(0,un.jsx)(b.Z,{variant:"outlined",startIcon:(0,un.jsx)(on.pCw,{}),onClick:y,fullWidth:!0,children:"Select Shipping Location"})}),(0,un.jsxs)(A.Z,{open:m,onClose:y,PaperProps:{sx:{width:"95vw",maxWidth:"550px"}},children:[(0,un.jsxs)(W.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,un.jsx)("span",{children:"Shipping Location"}),(0,un.jsx)(I.Z,{size:"small",onClick:y,children:(0,un.jsx)(Y.FU5,{})})]}),(0,un.jsx)(ln.Z,{isLoading:P||hn}),R?(0,un.jsxs)("form",{onSubmit:$(pn),children:[(0,un.jsxs)(F.Z,{children:[(0,un.jsx)(D.Z,{sx:{mb:1},children:"Label"}),(0,un.jsx)(_.ZP,(0,r.Z)({sx:dn.Z,placeholder:"Home, Work, Office etc.",fullWidth:!0},nn("label"))),(0,un.jsx)(D.Z,{sx:{my:1},children:"Phone Number"}),(0,un.jsx)(_.ZP,(0,r.Z)({sx:dn.Z,placeholder:"01****",startAdornment:(0,un.jsx)(d.Z,{sx:{mr:1},children:"+88"}),inputProps:{type:"tel"},fullWidth:!0},nn("phone"))),(0,un.jsx)(D.Z,{sx:{my:1},children:"Shipping Type"}),(0,un.jsxs)(E.Z,(0,r.Z)((0,r.Z)({value:X("type")||""},nn("type")),{},{sx:dn.Z,inputProps:{},fullWidth:!0,children:[(0,un.jsx)(L.Z,{value:"INSIDE",children:"Inside Dhaka"}),(0,un.jsx)(L.Z,{value:"SUBAREA",children:"Dhaka Subarea"}),(0,un.jsx)(L.Z,{value:"OUTSIDE",children:"Outside Dhaka"})]})),(0,un.jsx)(D.Z,{sx:{my:1},children:"Address"}),(0,un.jsx)(_.ZP,(0,r.Z)({sx:(0,r.Z)((0,r.Z)({},dn.Z),{},{height:"unset"}),multiline:!0,minRows:4,placeholder:"Aa...",fullWidth:!0},nn("details")))]}),(0,un.jsx)(w.Z,{}),(0,un.jsxs)(U.Z,{children:[(0,un.jsx)(b.Z,{variant:"outlined",color:"error",onClick:H,children:"Cancel"}),(0,un.jsxs)(b.Z,{variant:"contained",type:"submit",children:[X("_id")?"Update":"Create"," & Select"]})]})]}):(0,un.jsxs)(un.Fragment,{children:[(0,un.jsxs)(F.Z,{children:[!(0,s.Z)((null===k||void 0===k||null===(e=k.data)||void 0===e?void 0:e.data)||[]).length&&(0,un.jsx)(f.Z,{action:(0,un.jsx)(b.Z,{color:"success",variant:"outlined",onClick:B,children:"Create New"}),children:"No location saved."}),null===(t=(0,s.Z)((null===k||void 0===k||null===(c=k.data)||void 0===c?void 0:c.data)||[]))||void 0===t||null===(l=t.map)||void 0===l?void 0:l.call(t,(function(n){return(0,un.jsxs)(S.Z,{sx:{border:"1px solid",borderColor:(null===u||void 0===u?void 0:u._id)===n._id?"#333":"#ccc",bgcolor:(null===u||void 0===u?void 0:u._id)===n._id?"#00000011":"transparent",my:1},children:[(0,un.jsx)(Z.Z,{primary:null===n||void 0===n?void 0:n.label,secondary:(0,un.jsxs)(un.Fragment,{children:[(0,un.jsx)("div",{children:n.details}),(0,un.jsx)("div",{children:n.phone})]}),primaryTypographyProps:{sx:{fontWeight:"500"}},onClick:function(){x(n),O(n),y()}}),(0,un.jsx)(I.Z,{onClick:function(){K((0,r.Z)((0,r.Z)({},n),{},{id:n._id})),H()},children:(0,un.jsx)(cn.IYd,{})})]},n._id)}))]}),(0,un.jsx)(w.Z,{}),(0,un.jsx)(U.Z,{children:(0,un.jsx)(b.Z,{variant:"contained",onClick:function(){K({}),H()},children:"New Location"})})]})]})]})},hn=function(n){var e,t,r=n.open,s=n.onClose,l=(0,K.s0)(),c=z.useContext(G.Z),u=z.useContext(en.Z),j=z.useState(),f=(0,a.Z)(j,2),g=f[0],y=f[1],C=(0,nn.wS)(),k=C.data,P=C.isLoading,S=C.isError,I=(0,Q.Z)(),D=(0,H.Z)(I.breakpoints.down("md"));z.useEffect((function(){var n;if(S&&(c.createSnack("Something went wrong","error"),s()),k){var e;if(!k.data.success)c.createSnack((null===k||void 0===k||null===(e=k.data)||void 0===e?void 0:e.message)||"Something went wrong","error"),s();y(null===(n=k.data)||void 0===n?void 0:n.data)}}),[S,k]);var _=(0,nn.QE)(),E=_.mutateAsync,L=_.isLoading,O=function(){var n=(0,o.Z)((0,i.Z)().mark((function n(){var e;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,V.E)((function(){return E({})}),[201]);case 2:(e=n.sent).status?(s(),c.createSnack(e.msg),l("/user/order"),u.pop()):c.createSnack(e.msg,"error");case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return P?(0,un.jsx)(un.Fragment,{children:(0,un.jsx)(T.Z,{open:!0,sx:{color:"#fff",zIndex:function(n){return n.zIndex.drawer+1}},children:(0,un.jsx)(q.Z,{color:"secondary"})})}):(0,un.jsx)(un.Fragment,{children:(0,un.jsxs)(A.Z,{open:r,PaperProps:{sx:{width:"100vw"}},fullScreen:D,children:[(0,un.jsx)(W.Z,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:(0,un.jsx)("span",{children:"Order Details"})}),(0,un.jsx)(w.Z,{}),(0,un.jsxs)(F.Z,{children:[(0,un.jsx)(x.Z,{disablePadding:!0,children:null===g||void 0===g||null===(e=g.carts)||void 0===e||null===(t=e.map)||void 0===t?void 0:t.call(e,(function(n){var e,t,r,i,s,o,a,l,c,d,u;return(0,un.jsx)(z.Fragment,{children:(0,un.jsxs)(h.ZP,{sx:{p:0},children:[(0,un.jsx)(p.Z,{children:(0,un.jsx)(v.Z,{src:(0,R.FG)(null===(e=n.variant)||void 0===e||null===(t=e.product)||void 0===t?void 0:t.image),sx:{borderRadius:1,height:"70px",width:"70px",background:"transparent",color:"primary.dark",mr:2},children:(0,un.jsx)(X.xUA,{style:{fontSize:"1.8em"}})})}),(0,un.jsx)(Z.Z,{sx:{flex:1},primary:(0,un.jsx)(un.Fragment,{children:(0,un.jsx)("b",{children:(null===(r=n.variant)||void 0===r||null===(i=r.product)||void 0===i?void 0:i.titleEn)||"-"})}),secondary:(0,un.jsxs)(un.Fragment,{children:[(null===(s=n.variant)||void 0===s||null===(o=s.product)||void 0===o?void 0:o.variantType)||"Variant",":"," ",(0,un.jsx)("span",{style:{fontWeight:600},children:(null===(a=n.variant)||void 0===a?void 0:a.titleEn)||"-"}),(0,un.jsx)("br",{}),(0,un.jsx)("span",{style:{fontWeight:600},children:n.quantity||0})," ","items \xd7"," ",(0,un.jsx)("span",{style:{fontWeight:600},children:(null===(l=n.variant)||void 0===l||null===(c=l.product)||void 0===c?void 0:c.price)||0})," ","\u09f3"]}),primaryTypographyProps:{noWrap:!0,sx:{color:"black.main",textDecoration:"none"}},secondaryTypographyProps:{noWrap:!0,sx:{textDecoration:"none","& span":{color:"black.main"}}}}),(0,un.jsx)(Z.Z,{primary:(0,un.jsxs)(un.Fragment,{children:[n.quantity*(null===(d=n.variant)||void 0===d||null===(u=d.product)||void 0===u?void 0:u.price)," \u09f3"]}),primaryTypographyProps:{noWrap:!0,sx:{color:"black.main",fontWeight:"600",textAlign:"right"}}})]})},n._id)}))}),(0,un.jsx)(w.Z,{sx:{my:2}}),(0,un.jsxs)(m.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{width:"100%"},children:[(0,un.jsx)(d.Z,{variant:"button",children:"Payment Method :"}),(0,un.jsx)("b",{children:"Cash On Delivery"})]}),(0,un.jsx)(w.Z,{sx:{my:2}}),(0,un.jsxs)(m.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{width:"100%"},children:[(0,un.jsx)(d.Z,{variant:"button",children:"Shipping Address :"}),(0,un.jsx)("b",{children:null===g||void 0===g?void 0:g.shipping.phone})]}),(0,un.jsx)(d.Z,{variant:"subtitle2",fontWeight:500,textAlign:"right",children:null===g||void 0===g?void 0:g.shipping.details}),(0,un.jsx)(w.Z,{sx:{my:2}}),(0,un.jsxs)(m.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{width:"100%"},children:[(0,un.jsx)(d.Z,{variant:"button",children:"Subtotal :"}),(0,un.jsxs)(d.Z,{children:[(null===g||void 0===g?void 0:g.sellPrice)||0," \u09f3"]})]}),(0,un.jsxs)(m.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{width:"100%"},children:[(0,un.jsx)(d.Z,{variant:"button",children:"Delivery Fee :"}),(0,un.jsxs)(d.Z,{children:[(null===g||void 0===g?void 0:g.shippingFee)||0," \u09f3"]})]}),(0,un.jsxs)(m.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{width:"100%"},children:[(0,un.jsx)(d.Z,{variant:"button",children:"Discount :"}),(0,un.jsxs)(d.Z,{children:["- ",(null===g||void 0===g?void 0:g.discountPrice)||0," \u09f3"]})]}),(0,un.jsx)(w.Z,{sx:{my:1}}),(0,un.jsxs)(m.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{width:"100%",mb:2},children:[(0,un.jsx)(d.Z,{variant:"button",children:(0,un.jsx)("b",{children:"total :"})}),(0,un.jsxs)(d.Z,{children:[(0,un.jsx)("b",{children:(null===g||void 0===g?void 0:g.total)||0})," \u09f3"]})]})]}),(0,un.jsx)(w.Z,{}),(0,un.jsxs)(U.Z,{children:[(0,un.jsx)(b.Z,{variant:"outlined",color:"error",onClick:s,children:"Cancel"}),(0,un.jsx)(b.Z,{variant:"contained",color:"black",onClick:O,disabled:L||P,children:"Confirm"})]})]})})},pn=function(n){var e,t,r,s,a,l,c,u,x,j,m,f,g,y,b,w,C,k,P,S,A,W=n.cart,F=z.useContext(G.Z),D=(0,B.r0)(),_=D.mutateAsync,E=D.isLoading,L=function(){var n=(0,o.Z)((0,i.Z)().mark((function n(){var e;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,V.E)((function(){return _({cartId:W._id})}));case 2:(e=n.sent).status?F.createSnack(e.msg):F.createSnack(e.msg,"error");case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),U=(0,B.rA)(),Q=U.mutateAsync,T=U.isLoading,q=function(){var n=(0,o.Z)((0,i.Z)().mark((function n(e){var t;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,V.E)((function(){return Q({cartId:null===W||void 0===W?void 0:W._id,quantity:e})}),[201]);case 2:(t=n.sent).status?F.createSnack(t.msg):F.createSnack(t.msg,"error");case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,un.jsx)(un.Fragment,{children:(0,un.jsxs)(h.ZP,{disablePadding:!0,sx:{px:1,pr:{xs:1,md:2},py:.5},children:[(0,un.jsx)(p.Z,{children:(0,un.jsx)(v.Z,{src:(0,R.FG)(null===(e=W.variant)||void 0===e||null===(t=e.product)||void 0===t?void 0:t.image),sx:{borderRadius:1,height:"55px",width:"55px",background:"transparent",color:"primary.dark",mr:1},component:J.rU,to:"/product/".concat(null===W||void 0===W||null===(r=W.variant)||void 0===r||null===(s=r.product)||void 0===s?void 0:s._id),children:(0,un.jsx)(X.xUA,{style:{fontSize:"1.8em"}})})}),(0,un.jsx)(Z.Z,{sx:{flex:1},primary:(0,un.jsx)(un.Fragment,{children:(0,un.jsx)("b",{children:(null===(a=W.variant)||void 0===a||null===(l=a.product)||void 0===l?void 0:l.titleEn)||"-"})}),secondary:(0,un.jsxs)(un.Fragment,{children:[null===(c=W.variant)||void 0===c||null===(u=c.product)||void 0===u?void 0:u.variantType,":"," ",(0,un.jsx)("span",{style:{fontWeight:600},children:(null===(x=W.variant)||void 0===x?void 0:x.titleEn)||"-"})," ","\xd7"," ",(0,un.jsxs)("span",{style:{fontWeight:600},children:[(null===(j=W.variant)||void 0===j||null===(m=j.product)||void 0===m?void 0:m.price)||0," ",(null===(f=W.variant)||void 0===f||null===(g=f.product)||void 0===g?void 0:g.price)!==(null===(y=W.variant)||void 0===y||null===(b=y.product)||void 0===b?void 0:b.sellPrice)?(0,un.jsx)("del",{children:(null===(w=W.variant)||void 0===w||null===(C=w.product)||void 0===C?void 0:C.sellPrice)||0}):""]})," ","\u09f3"]}),primaryTypographyProps:{noWrap:!0,sx:{color:"black.main",textDecoration:"none"},component:J.rU,to:"/product/".concat(null===W||void 0===W||null===(k=W.variant)||void 0===k||null===(P=k.product)||void 0===P?void 0:P._id)},secondaryTypographyProps:{noWrap:!0,sx:{textDecoration:"none","& span":{color:"black.main"}},component:J.rU,to:"/product/".concat(null===W||void 0===W||null===(S=W.variant)||void 0===S||null===(A=S.product)||void 0===A?void 0:A._id)}}),(0,un.jsx)(I.Z,{sx:{pl:0},color:"black",size:"small",onClick:function(){return q((null===W||void 0===W?void 0:W.quantity)-1)},disabled:!((null===W||void 0===W?void 0:W.quantity)-1)||E||T,children:(0,un.jsx)($.gl,{})}),(0,un.jsx)(d.Z,{variant:"h6",sx:{minWidth:"15px",textAlign:"center"},children:(null===W||void 0===W?void 0:W.quantity)||0}),(0,un.jsx)(I.Z,{color:"black",size:"small",onClick:function(){return q((null===W||void 0===W?void 0:W.quantity)+1)},disabled:(null===W||void 0===W?void 0:W.quantity)>=(null===W||void 0===W?void 0:W.variant.quantity)||E||T,children:(0,un.jsx)($.jbg,{})}),(0,un.jsx)(I.Z,{sx:{ml:1},color:"error",size:"small",onClick:function(){return L(W._id)},disabled:E||T,children:(0,un.jsx)(O.qy0,{})})]},W._id)})},vn=function(){var n,e=(0,K.s0)(),t=z.useContext(M.o),r=z.useContext(G.Z),S=(0,nn.UD)(),I=S.mutateAsync,A=S.isLoading,W=(0,J.lr)(),F=(0,a.Z)(W,1)[0],D=z.useState(!1),_=(0,a.Z)(D,2),E=_[0],L=_[1],U=z.useState(),Q=(0,a.Z)(U,2),T=Q[0],q=Q[1];z.useEffect((function(){F.get("confirm")?L(!0):L(!1)}),[F]);var O=function(){var n=(0,o.Z)((0,i.Z)().mark((function n(){var o;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(T){n.next=3;break}return r.createSnack("Please add a shipping address","error"),n.abrupt("return");case 3:return n.next=5,(0,V.E)((function(){return I({carts:Array.from((0,s.Z)(t.cartList),(function(n){return{id:n._id}})),paymentMethod:"COD",shipping:T._id})}),[201]);case 5:(o=n.sent).status?(e("?confirm=1"),r.createSnack(o.msg)):r.createSnack(o.msg,"error");case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,un.jsxs)(un.Fragment,{children:[(0,un.jsx)(l.Z,{children:(0,un.jsxs)(c.ZP,{container:!0,sx:{mt:2},rowGap:2,children:[(0,un.jsxs)(c.ZP,{item:!0,xs:12,md:8,children:[(0,un.jsx)(d.Z,{variant:"h6",sx:{mb:1,fontWeight:"bold"},children:"Product Items"}),(0,un.jsx)(u.Z,{elevation:0,sx:{boxShadow:{xs:0,md:5}},children:(0,un.jsx)(x.Z,{disablePadding:!0,children:t.isLoading?(0,un.jsxs)(un.Fragment,{children:[(0,un.jsxs)(h.ZP,{children:[(0,un.jsx)(p.Z,{children:(0,un.jsx)(v.Z,{children:(0,un.jsx)(j.Z,{variant:"circular"})})}),(0,un.jsx)(Z.Z,{primary:(0,un.jsx)(j.Z,{variant:"text",width:100}),secondary:(0,un.jsx)(j.Z,{variant:"text"})})]}),(0,un.jsxs)(h.ZP,{children:[(0,un.jsx)(p.Z,{children:(0,un.jsx)(v.Z,{children:(0,un.jsx)(j.Z,{variant:"circular"})})}),(0,un.jsx)(Z.Z,{primary:(0,un.jsx)(j.Z,{variant:"text",width:100}),secondary:(0,un.jsx)(j.Z,{variant:"text"})})]}),(0,un.jsxs)(h.ZP,{children:[(0,un.jsx)(p.Z,{children:(0,un.jsx)(v.Z,{children:(0,un.jsx)(j.Z,{variant:"circular"})})}),(0,un.jsx)(Z.Z,{primary:(0,un.jsx)(j.Z,{variant:"text",width:100}),secondary:(0,un.jsx)(j.Z,{variant:"text"})})]})]}):t.total?(0,un.jsx)(un.Fragment,{children:null===(n=t.cartList)||void 0===n?void 0:n.map((function(n){return(0,un.jsx)(z.Fragment,{children:(0,un.jsx)(pn,{cart:n})},n.id)}))}):(0,un.jsx)(un.Fragment,{children:(0,un.jsx)(h.ZP,{children:(0,un.jsxs)(m.Z,{direction:"column",alignItems:"center",justifyContent:"center",spacing:2,sx:{flex:1,my:2},children:[(0,un.jsx)(v.Z,{sx:{width:"220px",height:"180px",borderRadius:0},src:N.Z}),(0,un.jsx)(f.Z,{severity:"error",children:"No Product in Cart!"})]})})})})}),(0,un.jsx)(g.Z,{smDown:!0,children:(0,un.jsxs)(m.Z,{direction:"row",sx:{my:2,width:"100%",justifyContent:"space-between"},children:[(0,un.jsx)(y.Z,{children:(0,un.jsx)(b.Z,{color:"black",variant:"contained",size:"small",startIcon:(0,un.jsx)(Y.B2A,{}),component:J.rU,to:"/search",children:"Continue Shopping"})}),(0,un.jsxs)(y.Z,{sx:{flex:1,maxWidth:{xs:"unset",sm:"250px"}},children:[(0,un.jsxs)(m.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{width:"100%"},children:[(0,un.jsx)(d.Z,{variant:"button",children:"Subtotal :"}),(0,un.jsxs)(d.Z,{children:[t.subtotalAmount," \u09f3"]})]}),(0,un.jsxs)(m.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{width:"100%"},children:[(0,un.jsx)(d.Z,{variant:"button",children:"Delivery :"}),(0,un.jsxs)(d.Z,{children:[(null===T||void 0===T?void 0:T.shippingFee)||0," \u09f3"]})]}),t.subtotalAmount-t.totalAmount>0&&(0,un.jsxs)(m.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{width:"100%"},children:[(0,un.jsx)(d.Z,{variant:"button",children:"Discount :"}),(0,un.jsxs)(d.Z,{children:[t.totalAmount-t.subtotalAmount," \u09f3"]})]}),(0,un.jsx)(w.Z,{sx:{my:1}}),(0,un.jsxs)(m.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{width:"100%",mb:2},children:[(0,un.jsx)(d.Z,{variant:"button",children:"total :"}),(0,un.jsxs)(d.Z,{children:[t.totalAmount+((null===T||void 0===T?void 0:T.shippingFee)||0)," \u09f3"]})]})]})]})})]}),(0,un.jsxs)(c.ZP,{item:!0,xs:12,md:4,sx:{pl:{xs:0,md:2}},children:[(0,un.jsx)(d.Z,{variant:"h6",sx:{mb:1,fontWeight:"bold"},children:"Payment & Shipping"}),(0,un.jsx)(u.Z,{elevation:0,sx:{mb:1,boxShadow:{xs:0,md:5}},children:(0,un.jsxs)(x.Z,{children:[(0,un.jsx)(h.ZP,{children:(0,un.jsx)(d.Z,{variant:"body1",fontWeight:"bold",children:"Payment Method"})}),(0,un.jsx)(h.ZP,{sx:{pt:0},children:(0,un.jsx)(C.Z,{defaultValue:"cod",sx:{"& *":{fontWeight:"600"}},children:(0,un.jsx)(k.Z,{value:"cod",control:(0,un.jsx)(P.Z,{color:"warning"}),label:"Cash On Delivery"})})}),(0,un.jsx)(w.Z,{}),(0,un.jsx)(h.ZP,{sx:{mt:2},children:(0,un.jsx)(d.Z,{variant:"body1",fontWeight:"bold",children:"Shipping Info"})}),(0,un.jsx)(xn,{shippingId:T,setShippingId:q})]})}),(0,un.jsxs)(g.Z,{xsUp:!0,children:[(0,un.jsxs)(m.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{width:"100%"},children:[(0,un.jsx)(d.Z,{variant:"button",children:"Subtotal :"}),(0,un.jsxs)(d.Z,{children:[t.subtotalAmount," \u09f3"]})]}),(0,un.jsxs)(m.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{width:"100%"},children:[(0,un.jsx)(d.Z,{variant:"button",children:"Delivery :"}),(0,un.jsxs)(d.Z,{children:[(null===T||void 0===T?void 0:T.shippingFee)||0," \u09f3"]})]}),t.subtotalAmount-t.totalAmount>0&&(0,un.jsxs)(m.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{width:"100%"},children:[(0,un.jsx)(d.Z,{variant:"button",children:"Discount :"}),(0,un.jsxs)(d.Z,{children:[t.totalAmount-t.subtotalAmount," \u09f3"]})]}),(0,un.jsx)(w.Z,{sx:{my:1}}),(0,un.jsxs)(m.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{width:"100%",mb:2},children:[(0,un.jsx)(d.Z,{variant:"button",children:"total :"}),(0,un.jsxs)(d.Z,{children:[t.totalAmount+((null===T||void 0===T?void 0:T.shippingFee)||0)," \u09f3"]})]})]}),(0,un.jsx)(b.Z,{variant:"contained",color:"black",disabled:!t.total||A||!T,fullWidth:!0,onClick:O,children:"Proceed to Checkout"})]})]})}),E&&(0,un.jsx)(hn,{open:E,onClose:function(){return e("")}})]})}},371:function(n,e,t){t.d(e,{QE:function(){return c},UD:function(){return a},uy:function(){return x},v8:function(){return s},wS:function(){return u}});var r=t(56),i=t(7347),s=function(n){return(0,r.useQuery)(["get-all-order-for-user",n],(function(){return function(n){return i.ZP.get("order/user?".concat(n.method&&"all"!==n.method?"status=".concat(n.method,"&"):"","limit=").concat(n.limit,"&page=").concat(n.page))}(n)}),{})},o=function(n){return i.ZP.post("order/calculate",n)},a=function(){var n=(0,r.useQueryClient)();return(0,r.useMutation)(o,{onSuccess:function(){return n.invalidateQueries("get-order-calculate")}})},l=function(n){return i.ZP.post("order/create",n)},c=function(){var n=(0,r.useQueryClient)();return(0,r.useMutation)(l,{onSuccess:function(){n.invalidateQueries("get-cart-by-user")}})},d=function(){return i.ZP.get("order/calculate")},u=function(){return(0,r.useQuery)(["get-order-calculate"],d,{retry:1})},x=function(n){return(0,r.useQuery)(["get-products-by-order-id",n],(function(){return function(n){return i.ZP.get("order/".concat(n))}(n)}),{})}},3134:function(n,e){e.Z={bgcolor:"#f3f3f3",borderRadius:"4px",px:"10px",height:"52px",outline:"none","&, & *":{border:"transparent !important",outline:"none !important"}}}}]);
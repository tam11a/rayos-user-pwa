"use strict";(self.webpackChunkrayos_user_pwa=self.webpackChunkrayos_user_pwa||[]).push([[275],{4266:function(t,e,n){var i=n(4165),r=n(5861),a=n(2295),o=n(4193),s=n(8119),c=n(6212),l=n(7131),d=n(7829),u=n(1113),x=n(5898),p=n(4832),m=n(7313),g=n(7890),h=n(1080),f=n(7347),v=n(860),j=n(7864),Z=n(7676),w=n(5883),y=n(1146),F=n(6417);e.Z=function(t){var e,n,b,P,k,S=t.product,W=t.hideBookmark,G=m.useContext(w.Z),C=m.useContext(h.g),I=(0,g.s0)(),_=(0,Z.g2)().mutateAsync;return(0,F.jsx)(F.Fragment,{children:(0,F.jsxs)(a.Z,{sx:{height:"100%",width:"100%",display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",textDecoration:"none",pb:1},component:o.Z,disableRipple:!0,elevation:0,children:[(0,F.jsx)(s.Z,{src:(0,f.FG)(S.image),alt:S.title_en,variant:"square",sx:{height:"85%",width:"100%",bgcolor:"#00000011",color:"primary.dark"},onClick:function(){return I("/product/".concat(S._id))},children:(0,F.jsx)(v.xUA,{style:{fontSize:"3em"}})}),S.discount?(0,F.jsx)(c.Z,{color:"primary",label:"".concat(S.discount.amount," % OFF!!"),sx:{borderRadius:"2px",position:"absolute",top:"10px",left:"12px"}}):(0,F.jsx)(F.Fragment,{}),S.quantity?(0,F.jsx)(F.Fragment,{}):(0,F.jsx)(c.Z,{color:"error",label:"Out of Stock",sx:{position:"absolute",bottom:"60px",left:"50%",transform:"translateX(-50%)"}}),!W&&C.isVerified?(0,F.jsx)(l.Z,{sx:{position:"absolute",top:"5px",right:"5px","& svg":{filter:"drop-shadow(0px 0px 10px #ffffff)"}},color:"error","aria-label":"add to favorite",onClick:(0,r.Z)((0,i.Z)().mark((function t(){var e;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,y.E)((function(){return _(S._id)}));case 2:(e=t.sent).status?G.createSnack(e.msg):G.createSnack(e.msg,"error");case 4:case"end":return t.stop()}}),t)}))),children:null!==(e=C.userInfo)&&void 0!==e&&null!==(n=e.bookmarks)&&void 0!==n&&n.includes(S._id)?(0,F.jsx)(j.M_L,{}):(0,F.jsx)(j.lo,{})}):(0,F.jsx)(F.Fragment,{}),(0,F.jsx)(d.Z,{sx:{height:"100%",width:"100%",display:"flex",textOverflow:"ellipsis"},onClick:function(){return I("/product/".concat(S._id))},children:(0,F.jsx)(u.Z,{variant:"caption",sx:{position:"relative",maxWidth:"100%",fontWeight:"600",fontSize:"1em",pt:.5},noWrap:!0,children:S.titleEn})}),(0,F.jsxs)(d.Z,{sx:{height:"100%",width:"100%",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},onClick:function(){return I("/product/".concat(S._id))},children:[(0,F.jsxs)(u.Z,{variant:"caption",sx:{position:"relative",maxWidth:"100%",fontWeight:"600","& del":{color:"error.main"}},noWrap:!0,children:[S.price||0," ",S.price!==S.sellPrice&&(0,F.jsx)("del",{children:S.sellPrice})," ","TK"]}),S.rating.count.all?(0,F.jsxs)(x.Z,{direction:"row",alignItems:"center",columnGap:.5,children:[(0,F.jsx)(p.Z,{name:"half-rating-read",defaultValue:null===S||void 0===S||null===(b=S.rating)||void 0===b?void 0:b.total,precision:.1,size:"small",readOnly:!0,sx:{fontSize:"0.9rem"}}),(0,F.jsxs)(u.Z,{variant:"caption",sx:{fontWeight:"600"},children:["(",null===S||void 0===S||null===(P=S.rating)||void 0===P||null===(k=P.count)||void 0===k?void 0:k.all,")"]})]}):(0,F.jsx)(F.Fragment,{})]})]})})}},1922:function(t,e,n){n(7313);var i=n(2783),r=n(2204),a=(n(3151),n(1374),n(7347)),o=n(7829),s=n(6417);e.Z=function(t){var e=t.homeImgList;return(0,s.jsx)(o.Z,{sx:{"& .swiper-pagination-bullet":{bgcolor:"white.main"}},children:(0,s.jsx)(i.tq,{centeredSlides:!0,autoplay:{delay:2500,disableOnInteraction:!1},pagination:{clickable:!0},spaceBetween:10,modules:[r.pt,r.tl],children:null===e||void 0===e?void 0:e.map((function(t){return(0,s.jsx)(i.o5,{children:(0,s.jsx)(o.Z,{sx:{px:.5,"& img":{width:"100%",height:{xs:"170px",md:"300px"},objectFit:"cover",objectPosition:"center",borderRadius:"4px"}},children:(0,s.jsx)("img",{src:(0,a.FG)(t.image),alt:"home_splash"})})},t._id)}))})})}},9275:function(t,e,n){n.d(e,{Q:function(){return k}});var i=n(885),r=n(7227),a=n(1113),o=n(4488),s=n(9019),c=n(5898),l=n(8119),d=n(6212),u=n(4193),x=n(7313),p=n(9466),m=n(4266),g=n(162),h=n(5883),f=n(6327),v=n(7676),j=n(7347),Z=n(1922),w=n(6417),y=function(){var t=x.useContext(h.Z).createSnack,e=x.useState({}),n=(0,i.Z)(e,2),r=n[0],c=n[1],l=(0,v.BH)({page:1}),d=l.data,u=l.isLoading,p=l.isError,g=l.error;x.useEffect((function(){u||(c(d?null===d||void 0===d?void 0:d.data:{}),p&&(400===g.response.status?t(null===g||void 0===g?void 0:g.response.data.msg,"error"):t("Something Went Wrong!","error")))}),[d]);var f=(0,v.OA)(),j=f.isLoading,Z=(f.isError,f.error,f.data),y=f.fetchNextPage,F=f.hasNextPage,b=f.isFetching,P=f.isFetched,k=f.isFetchingNextPage;return x.useEffect((function(){console.log(F),F&&y()}),[P,F,Z]),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(a.Z,{variant:"h6",sx:{textTransform:"capitalize"},children:u?(0,w.jsx)(o.Z,{width:"120px"}):"Wishlist"}),(0,w.jsx)(a.Z,{variant:"caption",children:u?(0,w.jsx)(o.Z,{width:"220px"}):"".concat((null===r||void 0===r?void 0:r.total)||0," Results Found")}),(0,w.jsxs)(s.ZP,{container:!0,direction:"row",rowGap:.6,columnGap:.6,flexWrap:"wrap",sx:{my:2,alignItems:"center",justifyContent:"flex-start"},children:[null===Z||void 0===Z?void 0:Z.map((function(t){return(0,w.jsx)(s.ZP,{item:!0,xs:5.9,sm:3.85,md:2.92,lg:2.3,sx:{height:{xs:"280px",md:"310px"}},children:(0,w.jsx)(m.Z,{product:t.product})},t._id)})),j||b||k?(0,w.jsx)(w.Fragment,{children:[1,2,3,4,5,6,7].map((function(t){return(0,w.jsx)(o.Z,{variant:"rectangular",component:s.ZP,item:!0,xs:5.9,sm:3.95,md:2.92,lg:1.97,sx:{height:{xs:"280px",md:"310px"}}},t)}))}):(0,w.jsx)(w.Fragment,{})]})]})},F=function(t){var e=t.name,n=(0,v.nC)({search:e}),i=n.isLoading,r=n.data,c=n.fetchNextPage,l=n.hasNextPage,d=n.isFetching,u=n.isFetched;return x.useEffect((function(){l&&c()}),[u,l,r]),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(a.Z,{variant:"h6",sx:{textTransform:"capitalize"},children:i?(0,w.jsx)(o.Z,{width:"120px"}):"Search : "+e}),(0,w.jsx)(a.Z,{variant:"caption",children:i?(0,w.jsx)(o.Z,{width:"220px"}):"".concat(null===r||void 0===r?void 0:r.length," Results Found")}),(0,w.jsxs)(s.ZP,{container:!0,direction:"row",rowGap:.6,columnGap:.6,flexWrap:"wrap",sx:{my:2,alignItems:"center",justifyContent:"flex-start"},children:[null===r||void 0===r?void 0:r.map((function(t){return(0,w.jsx)(s.ZP,{item:!0,xs:5.9,sm:3.85,md:2.92,lg:2.3,sx:{height:{xs:"280px",md:"310px"}},children:(0,w.jsx)(m.Z,{product:t})},t.id)})),i||d?(0,w.jsx)(w.Fragment,{children:[1,2,3,4,5,6,7].map((function(t){return(0,w.jsx)(o.Z,{variant:"rectangular",component:s.ZP,item:!0,xs:5.9,sm:3.95,md:2.92,lg:1.97,sx:{height:{xs:"280px",md:"310px"}}},t)}))}):(0,w.jsx)(w.Fragment,{})]})]})},b=function(t){var e,n=t.id,r=x.useContext(h.Z).createSnack,u=x.useState({}),g=(0,i.Z)(u,2),v=g[0],y=g[1],F=x.useState([]),b=(0,i.Z)(F,2),P=b[0],k=b[1],S=(0,f.w6)(n),W=S.data,G=S.isLoading,C=S.isError,I=S.error;x.useEffect((function(){var t;G||(y(W?null===W||void 0===W||null===(t=W.data)||void 0===t?void 0:t.data:{}),C&&(400===I.response.status?r(null===I||void 0===I?void 0:I.response.data.msg,"error"):r("Something Went Wrong!","error")))}),[W]);var _=(0,f.J0)(n).data;x.useEffect((function(){var t;_&&k(null===_||void 0===_||null===(t=_.data)||void 0===t?void 0:t.data)}),[_]);var E=(0,f.np)({id:n}),L=E.isLoading,N=E.data,R=E.fetchNextPage,z=E.hasNextPage,B=E.isFetching,Q=E.isFetched;return x.useEffect((function(){z&&R()}),[Q,z,N]),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(Z.Z,{homeImgList:(null===v||void 0===v?void 0:v.images)||[]}),(0,w.jsxs)(c.Z,{direction:"row",alignItems:"center",columnGap:2,children:[G?(0,w.jsx)(o.Z,{variant:"rectangular",height:"70px",width:"70px"}):(0,w.jsx)(l.Z,{variant:"rounded",src:(0,j.FG)(null===v||void 0===v||null===(e=v.icon)||void 0===e?void 0:e._id)}),(0,w.jsxs)(c.Z,{direction:"column",children:[(0,w.jsx)(a.Z,{variant:"h6",sx:{textTransform:"capitalize",fontWeight:"600"},children:G?(0,w.jsx)(o.Z,{width:"120px"}):(null===v||void 0===v?void 0:v.titleEn)||"Not Found"}),(0,w.jsx)(a.Z,{variant:"caption",children:G?(0,w.jsx)(o.Z,{width:"220px"}):"".concat((null===N||void 0===N?void 0:N.length)||0," Results Found")})]})]}),null!==P&&void 0!==P&&P.length?(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(c.Z,{direction:"row",rowGap:1,columnGap:1,alignItems:"center",flexWrap:"wrap",sx:{pt:1},children:null===P||void 0===P?void 0:P.map((function(t){return(0,w.jsx)(d.Z,{label:t.titleEn,sx:{borderRadius:"2px",letterSpacing:"1px"},clickable:!0,component:p.rU,to:"/search?subcategory=".concat(t._id)},t._id)}))})}):(0,w.jsx)(w.Fragment,{}),(0,w.jsxs)(s.ZP,{container:!0,direction:"row",rowGap:.6,columnGap:.6,flexWrap:"wrap",sx:{my:1,alignItems:"center",justifyContent:"flex-start"},children:[(0,w.jsx)(w.Fragment,{children:null===N||void 0===N?void 0:N.map((function(t){return(0,w.jsx)(s.ZP,{item:!0,xs:5.9,sm:3.85,md:2.92,lg:2.3,sx:{height:{xs:"280px",md:"310px"}},children:(0,w.jsx)(m.Z,{product:t})},t.id)}))}),L||B?(0,w.jsx)(w.Fragment,{children:[1,2,3,4,5,6,7].map((function(t){return(0,w.jsx)(o.Z,{variant:"rectangular",component:s.ZP,item:!0,xs:5.9,sm:3.95,md:2.92,lg:1.97,sx:{height:{xs:"280px",md:"310px"}}},t)}))}):(0,w.jsx)(w.Fragment,{})]})]})},P=function(t){var e,n,r=t.id,u=x.useContext(h.Z).createSnack,g=x.useState({}),v=(0,i.Z)(g,2),Z=v[0],y=v[1],F=x.useState([]),b=(0,i.Z)(F,2),P=b[0],k=b[1],S=(0,f.L)(r),W=S.data,G=S.isLoading,C=S.isError,I=S.error;x.useEffect((function(){var t;G||(y(W?null===W||void 0===W||null===(t=W.data)||void 0===t?void 0:t.data:{}),C&&(400===I.response.status?u(null===I||void 0===I?void 0:I.response.data.msg,"error"):u("Something Went Wrong!","error")))}),[W]);var _=(0,f.J0)(null===Z||void 0===Z||null===(e=Z.category)||void 0===e?void 0:e._id).data;x.useEffect((function(){var t;_&&k(null===_||void 0===_||null===(t=_.data)||void 0===t?void 0:t.data)}),[_]);var E=(0,f.g1)({id:r}),L=E.isLoading,N=E.data,R=E.fetchNextPage,z=E.hasNextPage,B=E.isFetching,Q=E.isFetched;return x.useEffect((function(){z&&R()}),[Q,z,N]),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(c.Z,{direction:"row",alignItems:"center",columnGap:2,children:[G?(0,w.jsx)(o.Z,{variant:"rectangular",height:"70px",width:"70px"}):(0,w.jsx)(l.Z,{variant:"rounded",src:(0,j.FG)(null===Z||void 0===Z||null===(n=Z.category)||void 0===n?void 0:n.icon)}),(0,w.jsxs)(c.Z,{direction:"column",children:[(0,w.jsx)(a.Z,{variant:"h6",sx:{textTransform:"capitalize",fontWeight:"600"},children:G?(0,w.jsx)(o.Z,{width:"120px"}):(null===Z||void 0===Z?void 0:Z.titleEn)||""}),(0,w.jsx)(a.Z,{variant:"caption",children:G?(0,w.jsx)(o.Z,{width:"220px"}):"".concat((null===N||void 0===N?void 0:N.length)||0," Results Found")})]})]}),null!==P&&void 0!==P&&P.length?(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(c.Z,{direction:"row",rowGap:1,columnGap:1,alignItems:"center",flexWrap:"wrap",sx:{pt:1},children:null===P||void 0===P?void 0:P.map((function(t){return(0,w.jsx)(d.Z,{label:t.titleEn,sx:{borderRadius:"2px",letterSpacing:"1px"},clickable:!0,component:p.rU,to:"/search?subcategory=".concat(t._id)},t._id)}))})}):(0,w.jsx)(w.Fragment,{}),(0,w.jsxs)(s.ZP,{container:!0,direction:"row",rowGap:.6,columnGap:.6,flexWrap:"wrap",sx:{my:1,alignItems:"center",justifyContent:"flex-start"},children:[(0,w.jsx)(w.Fragment,{children:null===N||void 0===N?void 0:N.map((function(t){return(0,w.jsx)(s.ZP,{item:!0,xs:5.9,sm:3.85,md:2.92,lg:2.3,sx:{height:{xs:"280px",md:"310px"}},children:(0,w.jsx)(m.Z,{product:t})},t.id)}))}),L||B?(0,w.jsx)(w.Fragment,{children:[1,2,3,4,5,6,7].map((function(t){return(0,w.jsx)(o.Z,{variant:"rectangular",component:s.ZP,item:!0,xs:5.9,sm:3.95,md:2.92,lg:1.97,sx:{height:{xs:"280px",md:"310px"}}},t)}))}):(0,w.jsx)(w.Fragment,{})]})]})},k=function(){var t=x.useContext(g.B),e=t.categoryList,n=t.isLoading,r=x.useState([]),o=(0,i.Z)(r,2),l=o[0],h=o[1];return x.useEffect((function(){n||h(e)}),[e]),(0,w.jsx)(w.Fragment,{children:n?(0,w.jsx)(S,{}):(0,w.jsx)(w.Fragment,{children:null===l||void 0===l?void 0:l.map((function(t,e){var n,i,r,o;return(0,w.jsx)(x.Fragment,{children:t.products.length?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(c.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{my:1,bgcolor:"#efefef",p:1,pl:2,borderRadius:"2px"},children:[(0,w.jsx)(a.Z,{variant:"h6",sx:{textTransform:"capitalize",fontWeight:"600",letterSpacing:"1px"},children:t.titleEn}),(0,w.jsx)(u.Z,{variant:"contained",size:"small",component:p.rU,to:"/search?category=".concat(t.id),children:"See More"})]}),(0,w.jsx)(c.Z,{direction:"row",rowGap:1,columnGap:1,alignItems:"center",flexWrap:"wrap",sx:{my:1},children:null===t||void 0===t||null===(n=t.subcategories)||void 0===n||null===(i=n.slice)||void 0===i||null===(r=i.call(n,0,4))||void 0===r?void 0:r.map((function(t){return(0,w.jsx)(d.Z,{label:t.titleEn,sx:{borderRadius:"2px",letterSpacing:"1px",fontWeight:"500"},color:"secondary",clickable:!0,component:p.rU,to:"/search?subcategory=".concat(t._id)},t._id)}))}),(0,w.jsx)(s.ZP,{container:!0,direction:"row",rowGap:.6,columnGap:.6,flexWrap:"wrap",sx:{my:2,alignItems:"center",justifyContent:"flex-start"},children:null===t||void 0===t||null===(o=t.products)||void 0===o?void 0:o.map((function(t){return(0,w.jsx)(s.ZP,{item:!0,xs:5.9,sm:3.85,md:2.92,lg:2.3,sx:{height:{xs:"280px",md:"310px"}},children:(0,w.jsx)(m.Z,{product:t})},t._id)}))})]}):(0,w.jsx)(w.Fragment,{})},t._id)}))})})},S=function(){return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(a.Z,{variant:"h4",children:(0,w.jsx)(o.Z,{width:"120px"})}),(0,w.jsx)(a.Z,{variant:"h5",children:(0,w.jsx)(o.Z,{width:"220px"})}),(0,w.jsx)(s.ZP,{container:!0,direction:"row",rowGap:.4,columnGap:.4,flexWrap:"wrap",sx:{my:1,alignItems:"center",justifyContent:"flex-start"},children:[1,2,3,4,5,6,7].map((function(t){return(0,w.jsx)(o.Z,{variant:"rectangular",component:s.ZP,item:!0,xs:5.9,sm:3.95,md:2.96,lg:1.97,sx:{height:{xs:"280px",md:"310px"}}},t)}))})]})};e.Z=function(t){var e=t.search;return(0,w.jsx)(r.Z,{sx:{py:1},children:e?(0,w.jsx)(w.Fragment,{children:"q"===e.type?(0,w.jsx)(F,{name:e.value}):"category"===e.type?(0,w.jsx)(b,{id:e.value}):"subcategory"===e.type?(0,w.jsx)(P,{id:e.value}):"wishlist"===e.type?(0,w.jsx)(y,{}):"all"===e.type?(0,w.jsx)(k,{}):(0,w.jsx)(w.Fragment,{})}):(0,w.jsx)(S,{})})}},7676:function(t,e,n){n.d(e,{BH:function(){return u},OA:function(){return x},Ss:function(){return a},g2:function(){return l},nC:function(){return s}});var i=n(56),r=n(7347),a=function(t){return(0,i.useQuery)(["get-prod-by-id",t],(function(){return function(t){return r.ZP.get("product/".concat(t))}(t)}),{enabled:!!t,retry:1})},o=function(t){var e=t.queryKey,n=t.pageParam,i=void 0===n?1:n;return r.ZP.get("search",{params:{search:e[1],page:i}})},s=function(t){var e=t.search;return(0,i.useInfiniteQuery)(["Infinite-Subcatprod-List",e],o,{select:function(t){return t.pages.flatMap((function(t){return t.data.data}))},getNextPageParam:function(t){if(t.data.page*t.data.limit<t.data.total)return t.data.page+1},enabled:!!e})},c=function(t){return r.ZP.put("bookmark/".concat(t))},l=function(){var t=(0,i.useQueryClient)();return(0,i.useMutation)(c,{onSuccess:function(){t.invalidateQueries("user-validate"),t.invalidateQueries("Bookmark-List"),t.invalidateQueries("Infinite-Bookmark-List")}})},d=function(t){var e=t.pageParam,n=void 0===e?1:e,i=t.limit;return r.ZP.get("bookmark",{params:{page:n,limit:i}})},u=function(t){var e=t.page,n=void 0===e?1:e,r=t.limit;return(0,i.useQuery)(["Bookmark-List",n,r],(function(){return d({pageParam:n,limit:r})}),{})},x=function(){return(0,i.useInfiniteQuery)(["Infinite-Bookmark-List"],d,{select:function(t){return t.pages.flatMap((function(t){return t.data.data}))},getNextPageParam:function(t){if(t.data.page*t.data.limit<t.data.total)return t.data.page+1}})}}}]);